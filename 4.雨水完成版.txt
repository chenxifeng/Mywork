#include<iostream>
#include<cmath>
using namespace std;
int main(){
	int n=11,ss=0,bd;
	double zn=0.013,pi=3.141592654;
	int l[100]={150,100,100,140,100,100,120,150,120,150,150};
	double f[100]={1.69,4.07,6.67,10.72,18.24,20.10,22.94,29.83,31.22,39.12,44.31};
	double t2[100],tt2[100],q0[100],qs[100],q[100],v[100],d[100],vj[100],ii[100],h[100];
	double p[100]={1,1,1,1,1,1,1,1,1,1,1};
	double dd[100]={300,400,500,600,700,800,900,1000,1100,1200,1300,1400,1500,1600,1700,1800,1900,2000};
	t2[0]=0;
	v[0]=0.75;
	int i=0,j=0;
	for(i=0;i<11;i++){
		bd=0;
		q0[i]=0.5*500*(1+1.38*log10(p[i]))/pow(10+2*t2[i],0.65);
		qs[i]=q0[i]*f[i];
		v[i+1]=v[i]+0.01;
		if(qs[i]<qs[i-1]) qs[i]=qs[i-1],bd=1;
		d[i]=pow(4*qs[i]/pi/v[i]/1000,0.5);
		for(j=0,ss=0;ss==0;j++){
			ss=0;
			if(d[i]<(dd[j+1]-40)/1000)   d[i]=dd[j]/1000,ss=1;
		}
		vj[i]=4*qs[i]/pi/d[i]/d[i]/1000;
		if(v[i]<vj[i]) v[i]=vj[i];
		if(v[i]<v[i-1]) v[i]=v[i-1]+0.01;
		if(bd==1) v[i]=v[i-1];
		v[i+1]=v[i]+0.01;
		ii[i]=pow(zn*v[i]/pow(d[i]/4,0.66666667),2);
		h[i]=ii[i]*l[i];
		q[i]=pi*d[i]*d[i]*v[i]/4;
		tt2[i]=l[i]/v[i]/60;
		t2[i+1]=t2[i]+tt2[i];
	}
	printf("===============================================================================\n");
	printf(" 名称  管长  管径  汇水面积  流速    坡度  单位面积径流量 设计流量 管道输水能力\n");
	printf(" 编号  L[N]  D[N]    F[N]    V[N]    I[N]      Q0[N]        QS[N]      Q[N]    \n");
	printf("  N    (m)   (mm)    (ha)    (m/s)   (‰)    (L/s*ha)       (L/s)      (L/s)   \n");
	printf("===============================================================================\n");
	for(i=0;i<11;i++){
		printf("%2d-%2d %4d  %5.0f   %5.2f    %5.3f  %5.2f      %5.2f       %6.1f      %5.1f\n",i+1,i+2,l[i],1000*d[i],f[i],v[i],1000*ii[i],q0[i],qs[i],1000*q[i]);
	}
//	printf("===================\n");
//	printf("编号  t2[N]  tt2[N]\n");
//	printf("===================\n");
//	for(i=0;i<11;i++){
//		printf("%1d-%1d  %5.2f     %5.2f\n",i+1,i+2,t2[i],tt2[i]);
//	}
//	return 0;
//  }
	/////////////////////////////////////////////////////////////////////////////////////////
	double hds[100]={0,0,0,0,0,0,0,0,0,0,0},psi[100]={0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5};
	double zj[100]={80752.5,60610.0,90595.0,140798.0,112935.0,112935.0,135522.0,187567.5,150054.0,187567.5,187567.5};
	double hg1[100],hg2[100],hm1[100],hm2[100];
	double h1[100]={14.030,14.060,14.060,14.040,13.600,13.600,13.600,13.600,13.580,13.570,13.570};
	double h2[100]={14.060,14.060,14.040,13.600,13.600,13.600,13.600,13.580,13.570,13.570,13.550};
	hm1[0]=1.300;
	hg1[0]=h1[0]-hm1[0];
	hg2[0]=hg1[0]-h[0];
	hm2[0]=h2[0]-hg2[0];
	for(i=1;i<11;i++){
		hg1[i]=hg2[i-1]+d[i-1]-d[i];
		hg2[i]=hg1[i]-h[i];
		hm1[i]=h1[i]-hg1[i];
		hm2[i]=h2[i]-hg2[i];
	}
	printf("===============================================================================\n");
	printf(" 名称     坡降     Σt2      跌水高度      t2      重现期      PSI      造价   \n");
	printf(" 编号    HIL[N]   T2[N-1]     HDS[N]    L[N]/V[N]   P[N]      PSI[N]    ZJ[N]  \n");
	printf("  N       (m)      (min)       (m)        (min)     (年)                (元)   \n");
	printf("===============================================================================\n");
	for(i=0;i<11;i++){
		printf("%2d-%2d    %4.3f     %5.2f      %5.3f      %5.2f     %5.2f     %5.2f    %8.1f\n",i+1,i+2,h[i],t2[i],hds[i],tt2[i],p[i],psi[i],zj[i]);
	}
	printf("===============================================================================\n");
	printf(" 名称 起点地面标高 终点地面标高 起点管内底标高 终点管内底标高 起点埋深 终点埋深\n");
	printf(" 编号     H[N]        H[N+1]       HG[N,2]      HG[N+1,1]    HM[N,2]  HM[N+1,1]\n");
	printf("  N       (m)          (m)           (m)            (m)         (m)      (m)   \n");
	printf("===============================================================================\n");
	for(i=0;i<11;i++){
		printf("%2d-%2d    %6.3f       %6.3f        %6.3f         %6.3f      %5.3f    %5.3f\n",i+1,i+2,h1[i],h2[i],hg1[i],hg2[i],hm1[i],hm2[i]);
	}
	printf("===============================================================================\n");
	double zjn=0,zln=0,mjn=0,dwn=0;
	for(i=0;i<11;i++){
		zjn+=zj[i];
		zln+=l[i];
		mjn+=f[i];
	}
	dwn=zjn/zln;
	printf("本条管道工程造价ZJN为:%11.2f(元)\n",zjn);
	printf("本条管道的总长度ZLN为:%8.2f(m)\n",zln);
	printf("===============================================================================\n");
	return 0;
}